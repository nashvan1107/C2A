<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G.H.S.S Edakkara(C2A)</title>
    <!-- Poppins Font for a Modern Look -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Three.js library for 3D background -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        /* --- RESET & VARIABLES --- */
        :root {
            /* Palette */
            --glass-bg: rgba(255, 255, 255, 0.75);
            --glass-border: rgba(255, 255, 255, 0.4);
            --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
            
            --primary: #6a11cb;
            --secondary: #2575fc;
            --accent: #ff0080;
            
            --text-dark: #1f2937;
            --text-light: #4b5563;
            
            --radius: 20px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        /* --- 3D BACKGROUND CANVAS --- */
        #threejs-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1; /* Puts the 3D scene behind all content */
        }
        
        body {
            color: var(--text-dark);
            min-height: 100vh;
            overflow-y: auto;
            overflow-x: hidden;
            background: none; /* Let the 3D canvas handle the background */
        }
        
        /* The main container ensures content scrolls on top of the fixed background */
        #app-content {
            position: relative;
            z-index: 10;
            padding-bottom: 5rem;
        }

        /* --- HEADER --- */
        header {
            text-align: center;
            padding: 3rem 1rem 2rem;
            color: white;
            text-shadow: 0 2px 8px rgba(0,0,0,0.4);
        }

        h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            letter-spacing: 1px;
        }

        .subtitle {
            background: rgba(255,255,255,0.1);
            padding: 0.5rem 1.5rem;
            border-radius: 50px;
            backdrop-filter: blur(5px);
            font-size: 1.1rem;
            display: inline-block;
            border: 1px solid rgba(255,255,255,0.3);
        }

        /* --- MAIN LAYOUT --- */
        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            min-height: 70vh;
        }
        
        /* --- VIEW CONTAINERS --- */
        .view {
            transition: opacity 0.5s ease;
        }
        
        .hidden-view {
            display: none;
            opacity: 0;
        }

        /* --- GLASS CARD STYLE (Shared) --- */
        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius);
            box-shadow: var(--glass-shadow);
        }

        /* --- TEACHER SECTION --- */
        .teacher-section {
            display: flex;
            justify-content: center;
            margin-bottom: 3rem;
        }

        .teacher-card {
            padding: 3rem;
            text-align: center;
            max-width: 600px;
            width: 100%;
            position: relative;
            transition: var(--transition);
        }

        .teacher-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #fff;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            box-shadow: 0 4px 10px rgba(255, 215, 0, 0.4);
        }

        .avatar-lg {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid white;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            margin-bottom: 1rem;
        }

        .t-name {
            font-size: 2.2rem;
            background: -webkit-linear-gradient(45deg, var(--primary), var(--accent));
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.2rem;
            font-weight: 700;
        }

        .t-role {
            font-size: 1.1rem;
            color: var(--text-light);
            font-weight: 500;
            display: block;
            margin-bottom: 1.5rem;
        }

        .t-desc {
            background: rgba(255,255,255,0.5);
            padding: 1rem;
            border-radius: 12px;
            font-style: italic;
            color: #444;
            line-height: 1.7;
        }

        /* --- STUDENT GRID (ROSTER VIEW) --- */
        .section-title {
            text-align: center;
            color: white;
            font-size: 2rem;
            margin-bottom: 3rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
            font-weight: 600;
        }

        .instagram-link-btn {
    /* Now an icon-only circular button */
    display: flex;
    align-items: center;
    justify-content: center;
    width: 50px; /* Fixed size for easy tapping */
    height: 50px;
    padding: 0; /* Rely on width/height for size */
    background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888); /* Instagram Gradient */
    color: white;
    border-radius: 50%; /* Make it circular */
    text-decoration: none;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    box-shadow: 0 4px 10px rgba(220, 39, 67, 0.4);
}

.instagram-link-btn i {
    font-size: 1.5rem;
    margin-right: 0; /* Removed margin as it's an icon-only button */
}

        .student-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); /* Smaller cards for 64 students */
            gap: 1.5rem;
            margin-bottom: 4rem;
        }

        .student-card {
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            overflow: hidden;
            animation: slideUp 0.5s ease forwards;
            opacity: 0; 
        }
        
        /* Staggered animation */
        .student-card:nth-child(n) { animation-delay: calc(var(--index) * 0.03s); }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .student-card:hover {
            transform: translateY(-5px) scale(1.02);
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .student-img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid rgb(78, 37, 37);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 0.8rem;
            transition: var(--transition);
        }

        .s-name {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 0.1rem;
        }

        .s-details {
            font-size: 0.8rem;
            color: var(--text-light);
        }
        
        /* --- DETAIL PAGE VIEW --- */
        #detailView {
            max-width: 800px;
            margin: 0 auto;
            padding: 3rem;
        }
        
        .detail-header {
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .detail-img {
            width: 180px;
            height: 180px;
            border:3px  solid rgb( 225, 81, 116);
            border-radius: 50%;
            object-fit: cover;
            border: 6px white;
            box-shadow: 0 0 0 10px rgba(106, 17, 203, 0.1);
            margin-bottom: 1.5rem;
        }
        
        #detailName {
            font-size: 3rem;
            background: -webkit-linear-gradient(45deg, var(--primary), var(--accent));
            background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        
        #detailRole {
            font-size: 1.5rem;
            color: var(--text-light);
            font-weight: 500;
            display: block;
            
        }
        
        .detail-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 3rem;
        }
        
        .info-block {
            padding: 2rem;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        
        .info-block h4 {
            font-weight: 600;
            font-size: 1.1rem;
            color: var(--primary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
        }
        
        .info-block h4 i {
            margin-right: 10px;
        }

        #detailBio {
            grid-column: 1 / -1;
        }
        
        .back-button {
            display: inline-flex;
            align-items: center;
            margin-bottom: 2rem;
            padding: 10px 20px;
            background: linear-gradient(90deg, var(--secondary), var(--primary));
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 500;
            transition: var(--transition);
        }
        
        .back-button:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }

        /* --- FOOTER --- */
        footer {
            text-align: center;
            color: white;
            padding: 2rem;
            font-size: 0.9rem;
            opacity: 0.8;
            position: relative; /* Ensure it stays above 3D background */
            z-index: 10;
        }

        @media (max-width: 768px) {
            h1 { font-size: 2.5rem; }
            .teacher-card { padding: 2rem; }
            .student-grid { grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); }
            #detailName { font-size: 2rem; }
            .detail-info { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <!-- 3D Background Container -->
    <div id="threejs-container"></div>
    
    <!-- Application Content Layer -->
    <div id="app-content">
        <header>
            <h1>G.H.S.S EDAKKARA</h1>
            <div class="subtitle">C2A Students Batch 2025-2026</div>
        </header>

        <main>
            <!-- Roster View (Default) -->
            <div id="rosterView" class="view">
                <!-- Teacher Section -->
                <section class="teacher-section">
                    <div class="teacher-card glass-card">
                      <a href="https://www.instagram.com/saleema.anvar">  <span class="teacher-badge">üë©üèª‚Äçüè´ Class Teacher</span></a>
                        <img src="tr.png" alt="Mrs. Fathima Rahna" class="avatar-lg">
                        <h2 class="t-name">Mrs. SALEEMA</h2>
                        <span class="t-role">ACCOUNTANCY</span>
                        <p class="t-desc">
                            ‚ÄúAn inspiring and dedicated teacher who guides C2A with kindness, discipline, and motivation. Guiding tomorrow's leaders today.‚Äù
                        </p>
                    </div>
                </section>

                <h2 class="section-title">STUDENTS (64)</h2>
                <div class="student-grid" id="studentGrid">
                    <!-- 64 student cards loaded via JS -->
                </div>
            </div>

            <!-- Detail Page View (Hidden) -->
            <div id="detailView" class="view hidden-view">
                <button class="back-button" onclick="showRoster()"><i class="fas fa-arrow-left"></i> &nbsp; Back </button>
                
                <div class="glass-card" style="padding: 3rem;">
                    <div class="detail-header">
                        <img src="" id="detailImg" class="detail-img">
                        <h2 id="detailName"></h2>
                        <span id="detailRole" class="t-role"></span>
                    </div>

                    <div class="detail-info">
                        <div id="detailBio" class="info-block">
                            <h4><i class="fas fa-clipboard-list"></i> Discribtion</h4>
                            <p id="detailBioText">Loading detailed academic profile...</p>
                        </div>
                        <div class="info-block">
                            <h4><i class="fas fa-user-circle"></i> Personal Information</h4>
                            <p><strong>Roll No:</strong> <span id="detailRollNo"></span></p>
                            <p><strong>Class:</strong>C2A</p>
                            <p><strong>Date of Birth:</strong> <span id="detailDOB"></span></p>
                        </div>
                       <div id="detailContact" class="info-block">
    <h4><i class="fas fa-link"></i>  Contact</h4>
    <div id="detailContactContent" class="social-link-container">
    </div>
</div>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <p>@ 2025-26 G.H.S.S Edakkara </p>
             <a href="https://frame-fabrica-folio.lovable.app"><h3>Follow Me</h3></a>
            </div>
        </footer>
    </div>

    <script>
        // --- CONFIGURATION ---
        const STUDENT_COUNT = 64;
        const STORAGE_KEY = 'c2a_64_students_data';

        
        
        
        function getStaticStudentData() {
            // Placeholder structure for 64 students. REPLACE THESE OBJECTS.
            const data = [
                
                {
                    id: 1,
                    name: "ABHINAV KRISHNAN",
                    details: "",
                    img: "abhi.png", 
                    rollNo: "1",
                    dob: "28/02/2008",
                    bio: "Abinav He has a positive mind set and loves everyone. Sometimes he has an attitude but he's cool",
                    instagram:"@abhhiinaav_"
                },
                
                
                {
                    id: 2,
                    name: "AMAL BINU",
                    details: "",
                    img: "binu.png",
                    rollNo: "2",
                    dob: "4/05/2008",
                    bio: "Amal binu is the super person in our class. He always pleases everyone. He is a boy who is liked by all the teachers in the class.",
                    instagram:"@am_al_x_10"

                },
                 {
                    id: 2,
                    name: "AMAL KRISHNAN",
                    details: "",
                    img: "amalk.png", 
                    rollNo: "3",
                    dob: "16/04/2009",
                    bio: "No one has any problem with Amal. He has a good mind. He is reluctant to come to school",
                    instagram:"_amal.eeeeee"
                },

                 {
                    id: 3,
                    name: "ATHUL .P MAHESH",
                    details: "",
                    img: "athul.png", 
                    rollNo: "4",
                    dob: "5/03/2008",
                    bio: "In that he is just like everyone else. He is calm and quiet. He is a good friend to everyone.",
                    instagram:"@athulllh._"
                },

                 {
                    id: 2,
                    name: "EBIN",
                    details: "",
                    img: "DJV.png", 
                    rollNo: "5",
                    dob: "01/06/2007",
                    bio: "Ebin is a diffrent type he doesn't talk to anyone like that, he doesn't go to any trouble, he is fully active where he is comfortable.",
                    instagram:"@_ebin_1"
                },

                 {
                    id: 2,
                    name: "KIRAN",
                    details: "",
                    img: "kiran.png",
                    rollNo: "6",
                    dob: "2/11/2008",
                    bio: "KIRAN He is a good boy and always does something stupid, but he has a iconic character.",
                    instagram:"@kiiranhh"
                },

                 {
                    id: 2,
                    name: "MUHAMMED SHAMMAS",
                    details: "",
                    img: "DJV.png", 
                    rollNo: "7",
                    dob: "18/07/2007",
                    bio: "Shammas is a good person. He is a cool guy in the class. He is a good friend to everyone",
                    instagram:"@shammaseyy_"
                },

                 {
                    id: 2,
                    name: "PRANAV",
                    details: "",
                    img: "DJV.png", 
                    rollNo: "8",
                    dob: "30/05/2008",
                    bio: "Pranav is a self minded person and doesn't have any trouble with anyone. He is handsome",
                    instagram:"@pranav___.e"
                },

                 {
                    id: 2,
                    name: "RIHAN",
                    details: "",
                    img: "rihan.png", 
                    rollNo: "9",
                    dob: "28/01/2008",
                    bio: "Rihan he is a good person , handsome and cool character in the class .",
                    instagram:"@rihhaann___"
                },

                 {
                    id: 2,
                    name: "SURYAJITH",
                    details: "",
                    img: "DJV.png", 
                    rollNo: "10",
                    dob: "29/06/2009",
                    bio: "Surya nobody knows him much . He is a calm and quiet person ",
                    instagram:"@x_uryaa"
                },

                 {
                    id: 2,
                    name: "TARUN KRISHNA",
                    details: "",
                    img: "tar.png", 
                    rollNo: "11",
                    dob: "25/04/2008",
                    bio: "Tarun is the coolest character in the class. Everyone will like him. Small mistakes are always made",
                    instagram:"@_tharrunn._"
                },

                 {
                    id: 2,
                    name: "YATHU KRISHNA",
                    details: "",
                    img: "yad.png", 
                    rollNo: "12",
                    dob: "06/07/2008",
                    bio: "yadhu he is a poor man. His character is cool",
                    instagram:"@yadhu.krizhx"
                },

                 {
                    id: 2,
                    name: "AISWARYA",
                    details: "",
                    img: "gi.png", 
                    rollNo: "13",
                    dob: "11/10/2008",
                    bio: " A kind one .who is responsible and ready to provide help hand to her friends at need.",
                    instagram:"null"
                },

                 {
                    id: 2,
                    name: "ANANYA",
                    details: "",
                    img: "ananya.png",
                    rollNo: "14",
                    dob: "18/08/2008",
                    bio: "She is very active, she is very funny girl in our class",
                    instagram:"@ananya_bhaskarr__"
                },

                 {
                    id: 2,
                    name: "ANSILA",
                    details: "",
                    img: "ansila.png", 
                    rollNo: "15",
                    dob: "01/04/2008",
                    bio: "The sports girl who have great athletic energy. Who can enter  into anyone's heart with her sweet voice",
                    instagram:"@ansssillah"
                },

                 {
                    id: 2,
                    name: "ARCHANA ",
                    details: "",
                    img: "gi.png", 
                    rollNo: "16",
                    dob: "14/02/2008",
                    bio: "She is unpredictable Student. She sees everyone as the same. One who lives peacefully without any trouble with anyone",
                    instagram:"null"
                },

                 {
                    id: 2,
                    name: "DEVIKA",
                    details: "",
                    img: "devika.png", 
                    rollNo: "17",
                    dob: "05/04/2009",
                    bio: "A sweet person .who can make friends with anyone easily. She has pure heart to hear others",
                    instagram:"@deviikaaa__4"
                },

                 {
                    id: 2,
                    name: "HANA HAZEEZ",
                    details: "",
                    img: "fara.png", 
                    rollNo: "18",
                    dob: "04/10/2008",
                    bio: "Vishnu is the top student in Computer Science and heads the school's programming club. He is a quiet but deeply focused individual with aspirations to study Artificial Intelligence.",
                    instagram:"___faraaahhh___"
                },

                 {
                    id: 2,
                    name: "RASHA",
                    details: "",
                    img: "rasha.png", 
                    rollNo: "19",
                    dob: "05/06/2008",
                    bio: "A meek one in class .super active among her close friends .The best one to keep things super secret.",
                    instagram:"@rsheeaaa"
                },

                 {
                    id: 2,
                    name: "SANDRA",
                    details: "",
                    img: "sandra.png", 
                    rollNo: "20",
                    dob: "06/06/2009",
                    bio: "A sweetheart among our friends. She is  Friendly with everyone.  Who can join with anyone's vibe so easily",
                    instagram:"@__.sndra"
                },

                 {
                    id: 2,
                    name: "SHAHMA",
                    details: "",
                    img: "gi.png", 
                    rollNo: "21",
                    dob: "14/08/2007",
                    bio: "She is a calm girl, she has a knack for getting close to everyone."
                },

                 {
                    id: 2,
                    name: "SREENANDHA",
                    details: "",
                    img: "gi.png", 
                    rollNo: "22",
                    dob: "14/10/2008",
                    bio: "A calm one in our class. she does not speak anyone.",
                    instagram:"null"
                },

                 {
                    id: 2,
                    name: "VIJINA",
                    details: "",
                    img: "vijna.png", 
                    rollNo: "23",
                    dob: "26/07/2007",
                    bio: "An innocent one. Who have her own views about everything. She is a supportive friend. She may look like short tempered but actually a sweet one with pure heart that care about everyone.",
                    instagram:"@__vijjnaa__"
                },

                 {
                    id: 2,
                    name: "ABINSHAN",
                    details: "",
                    img: "babi.png", 
                    rollNo: "24",
                    dob: "23/04/2007",
                    bio: "He is full active in the class and he likes to make everyone happy. ",
                    instagram:"@_abiiinnn_"
                },

                 {
                    id: 2,
                    name: "AMANSHAN",
                    details: "",
                    img: "sonu.png", 
                    rollNo: "25",
                    dob: "04/05/2008",
                    bio: "He has a special mindset , he works very hard to fulfill his desire.He has a innocent guy",
                    instagram:"@_aman_shan"
                },

                 {
                    id: 2,
                    name: "AMEEN SWALIH",
                    details: "",
                    img: "ameen.png", 
                    rollNo: "26",
                    dob: "03/08/2007",
                    bio: "He is a special character, He always smiling and playing. He has good communication skills.",
                    instagram:"@ameenn.ne"
                },

                 {
                    id: 2,
                    name: "ANISH MUBARAK",
                    details: "",
                    img: "anish.png", 
                    rollNo: "27",
                    dob: "27/04/2007",
                    bio: "He has the ability to sing well and he is an artist. He is very close to everyone",
                    instagram:"@anishmubarak"
                },

                 {
                    id: 2,
                    name: "ARSHID",
                    details: "",
                    img: "arshi.png", 
                    rollNo: "28",
                    dob: "17/05/2008",
                    bio: " He has the ability to change someone's mind, he is a motivational speaker and has the ability to sing but only sings with friends.",
                    instagram:"@a4rshiii.ee"
                },

                 {
                    id: 2,
                    name: "ASHEEQUE",
                    details: "",
                    img: "ashee.png", 
                    rollNo: "29",
                    dob: "30/11/2007",
                    bio: "He is a simple guy.He will make everyone happy. He relates to everyone",
                    instagram:"@asheque.__"
                },

                 {
                    id: 2,
                    name: "ASHIK M.K",
                    details: "",
                    img: "ashik.png", 
                    rollNo: "30",
                    dob: "05/12/2007",
                    bio: "He treats everyone equally, It is easy to bond with him. He is a good friend to everyone",
                    instagram:"@ashiiiee_"
                },

                 {
                    id: 2,
                    name: "ASHIK C",
                    details: "",
                    img: "ashc.png", 
                    rollNo: "31",
                    dob: "28/12/2007",
                    bio: " He is a innocent man,He have a poor heart to love everyone.  ",
                    instagram:"@_ashiiikk__"
                },

                 {
                    id: 2,
                    name: "FINAN",
                    details: "",
                    img: "DJV.png", 
                    rollNo: "32",
                    dob: "05/07/2007",
                    bio: "He is a good friend to everyone, He talk sweetly with everyone. He is a good editor",
                    instagram:"@finaan.e"
                },

                 {
                    id: 2,
                    name: "HASHBIN",
                    details: "",
                    img: "hashbin.png ", 
                    rollNo: "33",
                    dob: "14/08/2007",
                    bio: "He is a good friend to everyone, he is an innocent and calm guy",
                    instagram:"@hashbn_"
                },

                 {
                    id: 2,
                    name: "MUHAMMED AHSAB",
                    details: "",
                    img: "ahsab.png", 
                    rollNo: "34",
                    dob: "17/01/2008",
                    bio: "He is a simple and calm guy, he will take any risk to achieve his goal and will take hard work for it.",
                    instagram:"@ahsb__"
                },

                 {
                    id: 2,
                    name: "MUHAMMED ADHIL",
                    details: "",
                    img: "adil.png", 
                    rollNo: "35",
                    dob: "04/03/2007",
                    bio: "He also has a deffrent mentality towards others, he gets angry with everyone quickly but he has a good relationship with everyone.",
                    instagram:"@_adhiiiil"
                },

                 {
                    id: 2,
                    name: "MUHAMMED MIDLAJ",
                    details: "",
                    img: "midhu.png",
                    rollNo: "36",
                    dob: "12/11/2008",
                    bio: "He is always calm, never gets in trouble with anyone, and he makes friends with everyone quickly.",
                    instagram:"@midlaj____p"
                },

                 {
                    id: 2,
                    name: "MUHAMMED RISHAD",
                    details: "",
                    img: "bd.png", 
                    rollNo: "37",
                    dob: "03/05/2007",
                    bio: "He is a calm and talk with everyone friendly, he is a good friend and supportive friend",
                    instagram:"@rishaadh.k"
                },

                 {
                    id: 2,
                    name: "MUHAMMED SHIFIL",
                    details: "",
                    img: "shif.png", 
                    rollNo: "38",
                    dob: "09/05/2007",
                    bio: "He is a good friend to everyone, he makes everyone happy, he is handsome,",
                    instagram:"@shiifiill"
                },

                 {
                    id: 2,
                    name: "MUHAMMED SINAN",
                    details: "",
                    img: "sinan.png", 
                    rollNo: "39",
                    dob: "03/09/2008",
                    bio: "He is a cool character and wants everyone around him to be happy. He is everyone's good friend",
                    instagram:"@_s_nannn_"
                },

                 {
                    id: 2,
                    name: "MUHAMMED THAMEEM",
                    details: "",
                    img: "thameem.png", 
                    rollNo: "40",
                    dob: "24/05/2007",
                    bio: "He has a sweet heart and he treats everyone the same. If others have problems, he tries to solve them",
                    instagram:"@thamiimm"
                },

                 {
                    id: 2,
                    name: "NASHIB",
                    details: "",
                    img: "nashib.png", 
                    rollNo: "41",
                    dob: "09/01/2008",
                    bio: "He is handsome, he has the ability to sing, he doesn't interfere in everyone's affairs,",
                    instagram:"@naashiiib.___"
                },

                 {
                    id: 2,
                    name: "NASHVAN",
                    details: "",
                    img: "DJV.png", 
                    rollNo: "42",
                    dob: "20/08/2007",
                    bio: "ANONYMOUSüìå",
                    instagram:"@iamnashvan"
                },

                 {
                    id: 2,
                    name: "RIFAN",
                    details: "",
                    img: "rif.png", 
                    rollNo: "43",
                    dob: "12/03/2007",
                    bio: "He is an unpredictable character, he is everyone's good friend and he likes to help everyone.",
                    instagram:"@__riiffan"
                },

                 {
                    id: 2,
                    name: "RISHAN",
                    details: "",
                    img: "monu.png",
                    rollNo: "44",
                    dob: "04/11/2006",
                    bio: "He is a sweet character and he treats everyone as his brother. He is like a dude to everyone. He is everyone's good friend",
                    instagram:"@r1shan__"
                },

                 {
                    id: 2,
                    name: "FAIHA",
                    details: "",
                    img: "gi.png", 
                    rollNo: "45",
                    dob: "15/01/2007",
                    bio: "The singer of c2a .who can melt everyone with her songs. The confident and vibrant one in arts.",
                    instagram:"@faihhaa__"
                },

                 {
                    id: 2,
                    name: "FATHIMA JASNA",
                    details: "",
                    img: "gi.png", 
                    rollNo: "46",
                    dob: "16/02/2009",
                    bio: "She has her own views about everything.She has a good personality and can guide others to solve their problems.",
                    instagram:"null"
                },

                 {
                    id: 2,
                    name: "FIDA CF",
                    details: "",
                    img: "cf.png",
                    rollNo: "47",
                    dob: "08/06/2008",
                    bio: "she a singer. Very calm girl, she will soon become close to everyone",
                    instagram:"@fidhafysl"
                },

                 {
                    id: 2,
                    name: "FIDA SHERIN",
                    details: "",
                    img: "fidha.png",
                    rollNo: "48",
                    dob: "12/11/2007",
                    bio: "She is someone who is always supported by her friends. A child who is always energetic",
                    instagram:"@_fiidh.a_"
                },

                 {
                    id: 2,
                    name: "HIBA NASRIN",
                    details: "",
                    img: "hiba.png", 
                    rollNo: "49",
                    dob: "29/05/2008",
                    bio: " A calm girl who shines with her beautiful smile. She has a very polite approach towards everyone .",
                    instagram:"@hibaaae._"
                },

                 {
                    id: 2,
                    name: "ISHA SALEEM",
                    details: "",
                    img: "isha.png", 
                    rollNo: "50",
                    dob: "28/06/2007",
                    bio: "She is always fully active and has talent for singing and dancing.",
                    instagram:"@shahh_saleem"
                },

                 {
                    id: 2,
                    name: "JUMANA THASNI",
                    details: "",
                    img: "jumana.png", 
                    rollNo: "51",
                    dob: "22/04/2009",
                    bio: "The energy pill of c2a.who brights up the class with her presence and spread joy with her naughtiness.",
                    instagram:"@jumanaaaa_x"
                },

                 {
                    id: 2,
                    name: "LENA",
                    details: "",
                    img: "lena.png", 
                    rollNo: "52",
                    dob: "13/02/2008",
                    bio: " Who can cherish anyone with her laughter and sense of humor.  The one who have a positive approach towards everything..",
                    instagram:"@lena.aahh_"
                },

                 {
                    id: 2,
                    name: "NAJA FATHIMA",
                    details: "",
                    img: "naja.png", 
                    rollNo: "53",
                    dob: "30/09/2007",
                    bio: "She is a silent girl. She is comfortable with friends.She takes great effort in her work",
                    instagram:"@najaaa_hh._"
                },

                 {
                    id: 2,
                    name: "NIDA SHERIN",
                    details: "",
                    img: "gi.png", 
                    rollNo: "54",
                    dob: "08/11/2007",
                    bio: "Whatever she decides, let's look at its merit and demerit and take a decision",
                    instagram:"@__.nidhhaahh"
                },

                 {
                    id: 2,
                    name: "NIMA",
                    details: "",
                    img: "nima.png", 
                    rollNo: "55",
                    dob: "21/12/2007",
                    bio: "A chatty one in our class. Who got a very sweet vocal.  She can build a unique bond with everyone.",
                    instagram:"null"
                },

                 {
                    id: 2,
                    name: "NIYA FATHIMA",
                    details: "",
                    img: "gi.png", 
                    rollNo: "56",
                    dob: "11/09/2007",
                    bio: "She has a good character that make everyone attracted to her. She is a good companion",
                    instagram:"@niya_anvr"
                },

                 {
                    id: 2,
                    name: "RENNA NASNEEN",
                    details: "",
                    img: "renna.png", 
                    rollNo: "57",
                    dob: "07/07/2007",
                    bio: "A kind one who has a very good vocal. She can join to any vibe so easily.  Can shift everyone's mood with her dance and  super active friend.",
                    instagram:"@renna_nez"
                },

                 {
                    id: 2,
                    name: "RINSHA",
                    details: "",
                    img: "gi.png", 
                    rollNo: "58",
                    dob: "22/10/2008",
                    bio: "A Very lovely person with huge sweet heart. Who is well concentrated on her studies and future.",
                    instagram:"@rinshahhhh_____"
                },

                 {
                    id: 2,
                    name: "RIYA",
                    details: "",
                    img: "riya.png", 
                    rollNo: "59",
                    dob: "01/07/2008",
                    bio: "She is a good listener. Whatever is said, she will obey. She is a good friend to everyone",
                    instagram:"@_riya_tt_"
                },

                 {
                    id: 2,
                    name: "SAFA",
                    details: "",
                    img: "safa.png", 
                    rollNo: "60",
                    dob: "11/04/2008",
                    bio: "She is a very friendly character.She has the ability to sing but she only sings to her friends. She is an artist",
                    instagram:"@safaeii.__"
                },

                 {
                    id: 2,
                    name: "SHABANA YASMIN",
                    details: "",
                    img: "shabana.png", 
                    rollNo: "61",
                    dob: "25/08/2007",
                    bio: "She is a good listener. Whatever is said, she will obey. She is a good friend to everyone,",
                    instagram:"@_shabana._a"
                },

                 {
                    id: 2,
                    name: "SHAHABA SHERIN",
                    details: "",
                    img: "shahaba.png", 
                    rollNo: "62",
                    dob: "16/06/2008",
                    bio: "An innocent girl who can change the mood of class with her spontaneous humor. The sports girl of c2a",
                    instagram:"@shaha__baah"
                },

                 {
                    id: 2,
                    name: "SHAIBA",
                    details: "",
                    img: "gi.png", 
                    rollNo: "63",
                    dob: "20/11/2006",
                    bio: "who can make friends with anyone easily. She has pure heart to hear others",
                    instagram:"_sheiibaa"
                },

                 {
                    id: 2,
                    name: "SUHANA SUMI",
                    details: "",
                    img: "suhana.png", 
                    rollNo: "64",
                    dob: "20/09/2008",
                    bio: "A   Calm and good friend. She talk sweetly with everyone that make her a loved one  who can give a good connection to all.",
                    instagram:"@su_hanahh"
                },
            ];

            // Ensure the array always contains exactly 64 students to prevent layout issues
            return data.slice(0, STUDENT_COUNT);
        }

        function getStudents() {
            // This function now uses the static data directly
            const students = getStaticStudentData();
            
            if (students.length !== STUDENT_COUNT) {
                 console.error(`Error: Expected ${STUDENT_COUNT} students, but found ${students.length}. Check getStaticStudentData().`);
            }
            return students;
        }

        // ... (omitted: getStaticStudentData function definition)
        
// --- VIEW MANAGEMENT ---
const rosterView = document.getElementById('rosterView');
const detailView = document.getElementById('detailView');

function showDetail(student) {
    // Populate Detail Page
    document.getElementById('detailImg').src = student.img;
    document.getElementById('detailName').innerText = student.name;
    document.getElementById('detailRole').innerText = student.details;
    document.getElementById('detailRollNo').innerText = student.rollNo;
    document.getElementById('detailDOB').innerText = student.dob;
    document.getElementById('detailBioText').innerText = student.bio;

    // Populate Contact Link (Instagram)
    const contactContent = document.getElementById('detailContactContent');
    contactContent.innerHTML = ''; // Clear previous content

    // Check if Instagram handle exists and is not null/empty
    if (student.instagram && student.instagram.trim() !== '' && student.instagram.trim().toLowerCase() !== 'null') {
        const handle = student.instagram.replace('@', '').trim();
        
        const link = document.createElement('a');
        // FIX CONFIRMED: This line correctly sets the external URL
        link.href = `https://instagram.com/${handle}`;
        // This line is crucial for opening the link in a new tab/window, which prevents the browser sandbox from blocking it
        link.target = "_blank"; 
        link.className = 'instagram-link-btn';
        
        // Content of the link is only the icon
        link.innerHTML = `<i class="fab fa-instagram"></i>`;
        
        contactContent.appendChild(link);
        contactContent.classList.remove('empty');
    } else {
        // Display fallback message
        contactContent.innerHTML = 'No public contact info available.';
        contactContent.classList.add('empty');
    }

    // Switch views
    rosterView.classList.add('hidden-view');
    detailView.classList.remove('hidden-view');
    window.scrollTo({ top: 0, behavior: 'smooth' });
}
// ... (omitted: showRoster, renderGrid, and Three.js functions)

        function showRoster() {
            detailView.classList.add('hidden-view');
            rosterView.classList.remove('hidden-view');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // --- GRID RENDERING ---
        function renderGrid() {
            const grid = document.getElementById('studentGrid');
            grid.innerHTML = '';
            const students = getStudents();

            students.forEach((s, index) => {
                const card = document.createElement('div');
                card.className = 'student-card glass-card';
                // Set the index as a CSS variable for staggered animation
                card.style.setProperty('--index', index);

                card.innerHTML = `
                    <img src="${s.img}" class="student-img" alt="${s.name} photo">
                    <div class="s-name">${s.name}</div>
                    <div class="s-details">${s.details}</div>
                `;
                
                // Click handler to show the full detail page
                card.onclick = () => showDetail(s);
                grid.appendChild(card);
            });
        }

        // --- THREE.JS 3D PARTICLE BACKGROUND ---
        let scene, camera, renderer, particles;
        const container = document.getElementById('threejs-container');

        function initThreeJS() {
            // 1. Scene setup
            scene = new THREE.Scene();
            
            // Camera setup
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 5;

            // Renderer setup
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setClearColor(0x000000, 0); // Transparent background to layer over HTML colors if any
            container.appendChild(renderer.domElement);
            
            // 2. Particle Geometry
            const particleCount = 2000;
            const geometry = new THREE.BufferGeometry();
            const positions = new Float32Array(particleCount * 3);
            const colors = new Float32Array(particleCount * 3);
            const color1 = new THREE.Color(var_to_hex('--primary'));
            const color2 = new THREE.Color(var_to_hex('--accent'));

            for (let i = 0; i < particleCount; i++) {
                // Position particles randomly in a cube
                positions[i * 3] = (Math.random() - 0.5) * 20;
                positions[i * 3 + 1] = (Math.random() - 0.5) * 20;
                positions[i * 3 + 2] = (Math.random() - 0.5) * 20;
                
                // Interpolate color between primary and accent
                const t = Math.random();
                const color = new THREE.Color().lerpColors(color1, color2, t);
                colors[i * 3] = color.r;
                colors[i * 3 + 1] = color.g;
                colors[i * 3 + 2] = color.b;
            }

            geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            geometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));

            // 3. Material
            const material = new THREE.PointsMaterial({ 
                size: 0.05, 
                vertexColors: true, // Use the colors defined above
                transparent: true,
                opacity: 0.8
            });

            // 4. Mesh (Points)
            particles = new THREE.Points(geometry, material);
            scene.add(particles);

            // 5. Add event listener for window resizing
            window.addEventListener('resize', onWindowResize, false);
        }
        
        // Helper function to convert CSS variable color to hex
        function var_to_hex(varName) {
            const style = getComputedStyle(document.body);
            const color = style.getPropertyValue(varName).trim();
            // Simple logic: if it starts with #, return it. Otherwise, assume a CSS color name is not used here.
            return color.startsWith('#') ? parseInt(color.substring(1), 16) : 0x6a11cb;
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        function animate() {
            requestAnimationFrame(animate);

            // Animate particles
            if (particles) {
                particles.rotation.y += 0.0005;
                particles.rotation.x += 0.0002;
                particles.position.z += 0.001;
                if (particles.position.z > 1) particles.position.z = -5;
            }

            renderer.render(scene, camera);
        }

        // --- INITIALIZATION ---
        window.onload = function() {
            renderGrid();
            
            // Initialize 3D background
            try {
                initThreeJS();
                animate();
            } catch (e) {
                console.error("Three.js initialization failed:", e);
                container.innerHTML = `<div style="color: white; padding: 20px;">3D background failed to load.</div>`;
            }
        };
    </script>
</body>
</html>